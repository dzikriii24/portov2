import{r as t,j as C}from"./index-B4XhehG7.js";import{g as v}from"./index-CH_iu5NA.js";const S=({text:m,as:H="div",typingSpeed:h=50,initialDelay:I=0,pauseDuration:x=2e3,deletingSpeed:E=30,loop:R=!0,className:W="",showCursor:T=!0,hideCursorWhileTyping:q=!1,cursorCharacter:z="|",cursorClassName:F="",cursorBlinkDuration:j=.5,textColors:d=[],variableSpeed:u,onSentenceComplete:g,startOnVisible:p=!1,reverseMode:A=!1,...G})=>{const[o,N]=t.useState(""),[i,$]=t.useState(0),[f,b]=t.useState(!1),[s,J]=t.useState(0),[k,K]=t.useState(!p),a=t.useRef(null),y=t.useRef(null),r=Array.isArray(m)?m:[m],L=()=>{if(!u)return h;const{min:e,max:c}=u;return Math.random()*(c-e)+e},M=()=>d.length===0?"#ffffff":d[s%d.length];t.useEffect(()=>{if(!p||!y.current)return;const e=new IntersectionObserver(c=>{c.forEach(l=>{l.isIntersecting&&K(!0)})},{threshold:.1});return e.observe(y.current),()=>e.disconnect()},[p]),t.useEffect(()=>{T&&a.current&&(v.set(a.current,{opacity:1}),v.to(a.current,{opacity:0,duration:j,repeat:-1,yoyo:!0,ease:"power2.inOut"}))},[T,j]),t.useEffect(()=>{if(!k)return;let e;const c=r[s],l=A?c.split("").reverse().join(""):c,w=()=>{if(f)if(o===""){if(b(!1),s===r.length-1&&!R)return;g&&g(r[s],s),J(n=>(n+1)%r.length),$(0),e=setTimeout(()=>{},x)}else e=setTimeout(()=>{N(n=>n.slice(0,-1))},E);else i<l.length?e=setTimeout(()=>{N(n=>n+l[i]),$(n=>n+1)},u?L():h):r.length>1&&(e=setTimeout(()=>{b(!0)},x))};return i===0&&!f&&o===""?e=setTimeout(w,I):w(),()=>clearTimeout(e)},[i,o,f,h,E,x,r,s,R,I,k,A,u,g]);const O=q&&(i<r[s].length||f);return t.createElement(H,{ref:y,className:`inline-block whitespace-pre-wrap tracking-tight ${W}`,...G},C.jsx("span",{className:"inline",style:{color:M()},children:o}),T&&C.jsx("span",{ref:a,className:`ml-1 inline-block opacity-100 ${O?"hidden":""} ${F}`,children:z}))};export{S as default};
