import{r as n,M as E,f as x,e as T,u as y,h as j,i as v,b as g,j as m,m as M,k as F}from"./index-DSGjgx8E.js";function R(e,t,s){n.useInsertionEffect(()=>e.on(t,s),[e,t,s])}function C(e){const t=n.useRef(0),{isStatic:s}=n.useContext(E);n.useEffect(()=>{if(s)return;const r=({timestamp:o,delta:c})=>{t.current||(t.current=o),e(o-t.current,c)};return x.update(r,!0),()=>T(r)},[e])}function N(e){const t=y(e.getVelocity()),s=()=>{const r=e.getVelocity();t.set(r),r&&x.update(s)};return R(e,"change",()=>{x.update(s,!1,!0)}),t}const A=(e,t,s)=>{const r=t-e;return((s-e)%r+r)%r+e};function q({children:e,baseVelocity:t=1,className:s,scrollDependent:r=!1,delay:o=0,direction:c="left"}){const u=y(0),{scrollY:h}=j(),w=N(h),S=v(w,{damping:50,stiffness:400}),f=g(S,[0,1e3],[0,2],{clamp:!1}),V=g(u,i=>`${A(-100,0,i%100)}%`),a=n.useRef(c==="left"?1:-1),d=n.useRef(!1);return n.useEffect(()=>{const i=setTimeout(()=>{d.current=!0},o);return()=>clearTimeout(i)},[o]),n.useEffect(()=>{a.current=c==="left"?1:-1},[c]),C((i,l)=>{if(!d.current)return;let p=a.current*t*(l/1e3);r&&(f.get()<0?a.current=-1:f.get()>0&&(a.current=1)),p+=a.current*p*f.get(),u.set(u.get()+p)}),m.jsx("div",{className:"overflow-hidden whitespace-nowrap flex flex-nowrap",children:m.jsx(M.div,{className:"flex whitespace-nowrap gap-10 flex-nowrap",style:{x:V},children:[...Array(4)].map((i,l)=>m.jsx("span",{className:F("block text-[5vw]",s),children:e},l))})})}export{q as default};
